# ======================================================================
# Azt3kNet application defaults
# Copy this file to `.env` and adjust values for your workstation.
# ======================================================================

# General application settings
AZT3KNET_ENVIRONMENT=development
AZT3KNET_LOG_LEVEL=INFO
AZT3KNET_DEFAULT_SEED=20241005
AZT3KNET_TIMEZONE=UTC
AZT3KNET_PREVIEW_LIMIT=25

# API server configuration
API_HOST=0.0.0.0
API_PORT=8000

# Storage configuration
DATABASE_BACKEND=postgres
DATABASE_URL=postgresql+psycopg://azt3knet:azt3knet@localhost:5432/azt3knet
SQLITE_URL=sqlite+aiosqlite:///./azt3knet.db
ALEMBIC_CONFIG=infra/migrations/alembic.ini
POSTGRES_IMAGE=ankane/pgvector:pg16
POSTGRES_ENABLE_TIMESCALEDB=false
POSTGRES_SHARED_BUFFERS=256MB
TIMESCALEDB_MAX_MEMORY=512MB

# Object storage (MinIO / S3-compatible)
MINIO_ROOT_USER=azt3knet
MINIO_ROOT_PASSWORD=azt3knet123
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ENDPOINT=http://localhost:9000
MINIO_ENDPOINT_INTERNAL=http://minio:9000
MINIO_REGION=us-east-1
MINIO_ACCESS_KEY=azt3knet
MINIO_SECRET_KEY=azt3knet123
MINIO_USE_SSL=false
AZT3KNET_BLOB_BUCKET=azt3knet
# Optional comma-separated list when multiple buckets are required
# AZT3KNET_BLOB_BUCKETS=azt3knet,azt3knet-preview

# Messaging / background jobs
REDIS_URL=redis://localhost:6379/0
QUEUE_POPULATION=population
QUEUE_CONTENT=content
QUEUE_SIMULATION=simulation

# Observability
PROMETHEUS_PORT=9000
PROMETHEUS_SERVER_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=azt3knet
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=azt3knet

# Ollama configuration
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=deepseek-r1:1.5b
OLLAMA_TIMEOUT=30

# Feature flags
AZT3KNET_COMPLIANCE_ENABLED=true
ENABLE_METRICS=true
ENABLE_TRACING=true

# ----------------------------------------------------------------------
# Mailcow + deSEC mail stack configuration
# ----------------------------------------------------------------------

# deSEC configuration
DESEC_API=https://desec.io/api/v1
DESEC_DOMAIN=azt3knet.dedyn.io
DESEC_TOKEN=changeme
DESEC_DYNDNS_UPDATE_URL=https://update.dedyn.io
DESEC_UPDATE_INTERVAL_HOURS=24

# Mailcow endpoints
MAILCOW_API=https://mail.azt3knet.dedyn.io/api/v1
MAILCOW_API_KEY=changeme
MAILCOW_SMTP_HOST=mail.azt3knet.dedyn.io
MAILCOW_SMTP_PORT=587
MAILCOW_IMAP_HOST=mail.azt3knet.dedyn.io
MAILCOW_IMAP_PORT=993
MAILCOW_RELAY_HOST=
MAILCOW_RELAY_PORT=587
MAILCOW_RELAY_USER=
MAILCOW_RELAY_PASS=
MAILCOW_VERIFY_TLS=true

# Agent mailbox defaults
AZT3KNET_DOMAIN=azt3knet.dedyn.io
AZT3KNET_AGENT_MAIL_PREFIX=agent_
AZT3KNET_AGENT_MAIL_PASSWORD=ChangeMe!123
AZT3KNET_MAIL_QUOTA_MB=1024
AZT3KNET_MAIL_TTL=300
AZT3KNET_MAIL_RATE_LIMIT=100
